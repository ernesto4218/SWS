<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
    <link href="/stylesheets/output.css" rel="stylesheet" />
    <link href="/flowbite/min.css" rel="stylesheet" />
    <script src="/javascripts/tf.min.js"></script>
    <script src="/javascripts/teachablemachine-image.min.js"></script>
  </head>
  <body class="bg-gray-200 w-screen h-screen overflow-y-auto overflow-x-hidden">

    <!-- pass data  -->
    <div class="hidden datael" data-settings="<%= JSON.stringify(data) %>"></div>
    <div
      id="settingsformparent"
      class="hidden z-10 backdrop-brightness-80 backdrop-blur-sm fixed w-full h-full items-center justify-center p-10"
    >
      <form id="settingsform" class="w-[500px] bg-white rounded-3xl p-6 h-full overflow-y-auto">
        <div class="flex flex-row items-center justify-between mb-4">
          <div class="flex flex-row gap-2 items-center justify-start">
            <svg
              class="shrink-0 w-6 h-6 text-black transition duration-75 group-hover:text-gray-900"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 640 640"
            >
              <path
                d="M259.1 73.5C262.1 58.7 275.2 48 290.4 48L350.2 48C365.4 48 378.5 58.7 381.5 73.5L396 143.5C410.1 149.5 423.3 157.2 435.3 166.3L503.1 143.8C517.5 139 533.3 145 540.9 158.2L570.8 210C578.4 223.2 575.7 239.8 564.3 249.9L511 297.3C511.9 304.7 512.3 312.3 512.3 320C512.3 327.7 511.8 335.3 511 342.7L564.4 390.2C575.8 400.3 578.4 417 570.9 430.1L541 481.9C533.4 495 517.6 501.1 503.2 496.3L435.4 473.8C423.3 482.9 410.1 490.5 396.1 496.6L381.7 566.5C378.6 581.4 365.5 592 350.4 592L290.6 592C275.4 592 262.3 581.3 259.3 566.5L244.9 496.6C230.8 490.6 217.7 482.9 205.6 473.8L137.5 496.3C123.1 501.1 107.3 495.1 99.7 481.9L69.8 430.1C62.2 416.9 64.9 400.3 76.3 390.2L129.7 342.7C128.8 335.3 128.4 327.7 128.4 320C128.4 312.3 128.9 304.7 129.7 297.3L76.3 249.8C64.9 239.7 62.3 223 69.8 209.9L99.7 158.1C107.3 144.9 123.1 138.9 137.5 143.7L205.3 166.2C217.4 157.1 230.6 149.5 244.6 143.4L259.1 73.5zM320.3 400C364.5 399.8 400.2 363.9 400 319.7C399.8 275.5 363.9 239.8 319.7 240C275.5 240.2 239.8 276.1 240 320.3C240.2 364.5 276.1 400.2 320.3 400z"
              />
            </svg>
            <p class="text-black font-semibold text-xl">System Settings</p>
          </div>

          <svg
            id="closesettingsform"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 384 512"
            class="w-10 h-10 mr-4 p-3 text-black hover:bg-gray-300 rounded-xl cursor-pointer"
            fill="currentColor"
          >
            <path
              d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"
            />
          </svg>
        </div>

        <p class="text-sm font-semibold text-gray-700">Model Information</p>
        <div class="w-full my-2 flex flex-col">
          <div class="w-full mb-3">
            <label for="" class="block mb-2 text-xs font-medium text-gray-900"
              >Active Model</label
            >
            <input
              readonly
              value=<%= data.active_model %>
              name=""
              type="text"
              id="modelurl"
              class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
              placeholder="123"
              required
            />
          </div>
          <div class="w-full">
            <label
              id=""
              for=""
              class="block mb-2 text-xs font-medium text-gray-900"
              >Prediction %</label
            >
            <input
              type="number"
              id="prediction"
              class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
              placeholder="0"
              min="0"
              max="1"
              step="0.01"
              required
              value=<%= data.predict_percent %>
            />
          </div>

          
        </div>

        <p class="text-sm font-semibold text-gray-700 mt-7">Fetch Request</p>
        <div class="w-full flex flex-col mt-2">
          <label for="" class="block mb-2 text-xs font-medium text-gray-900"
            >Sensor Readings (rps)</label>
          <input
            type="number"
            id="fetchrps"
            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
            placeholder="0"
            min="1000"
            max="10000"
            step="1"
            required
            value=<%= data.fetch_sensor_rps %>
          />
        </div>

        <p class="text-sm font-semibold text-gray-700 mt-7">Device Settings</p>
        <label class="inline-flex items-center cursor-pointer mt-3">
          <input type="checkbox" value="" class="sr-only peer" <%= data.bin_reload %> >
          <div class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
          <span class="ms-3 text-xs font-medium text-gray-900">Toggle Bin on Reload</span>
        </label>

        <div class="flex flex-row w-full mt-4">
          <button
            type="submit"
            class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-3 text-center inline-flex items-center justify-center"
          >
            Save Changes
            <svg
              class="rtl:rotate-180 w-3.5 h-3.5 ms-2"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 14 10"
            >
              <path
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M1 5h12m0 0L9 1m4 4L9 9"
              />
            </svg>
          </button>
        </div>
      </form>
    </div>

    <div
      id="alertcontainer"
      class="fixed z-50 inset-0 bg-red-800/50 backdrop-blur-xl hidden flex-col items-center justify-center"
    >
      <div
        class="bg-red-600 text-white rounded-full flex items-center justify-center p-2 shadow-2xl shadow-red-500"
      >
        <svg
          class="w-20 h-20"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        >
          <path
            d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24l0 112c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-112c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"
          />
        </svg>
      </div>
      <p class="text-xl font-semibold text-white mt-4">ALERT</p>
      <p class="text-sm font-normal text-white">Item not allowed!</p>
    </div>

    <%- include('header') %>

    <div
      class="h-auto overflow-x-hidden overflow-y-hidden w-full flex flex-col items-center justify-center p-10 gap-4"
    >
      <div class="h-full flex flex-row gap-4 items-start justify-center">
        <div
          class="flex flex-col gap-2 w-fit h-full items-center justify-center"
        >
          <div
            class="max-w-lg h-full border-2 rounded-2xl border-gray-100 bg-white shadow-2xl"
          >
            <video
              autoplay
              playsinline
              class="w-full h-full object-cover rounded-2xl"
            ></video>
            <div
              class="hidden min-w-lg min-h-lg object-cover rounded-2xl"
              id="webcam-container"
            ></div>
            <div class="hidden" id="label-container"></div>
          </div>

          <div
            class="w-full max-h-lg rounded-2xl border-gray-100 bg-white mt-4 p-2 flex flex-col"
          >
            <span
              class="bg-yellow-100 text-yellow-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm w-fit mb-2"
              >Test Mode</span>
            <div class="flex flex-row item-scenter justify-between">
              <button
                id="BioBTN"
                type="button"
                class="flex flex-row gap-2 items-center justify-center py-2 px-5 me-2 text-xs font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100"
              >
                <svg
                  class="w-4 h-4 fill-current"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 640 640"
                >
                  <path
                    d="M576 96C576 204.1 499.4 294.3 397.6 315.4C389.7 257.3 363.6 205 325.1 164.5C365.2 104 433.9 64 512 64L544 64C561.7 64 576 78.3 576 96zM64 160C64 142.3 78.3 128 96 128L128 128C251.7 128 352 228.3 352 352L352 544C352 561.7 337.7 576 320 576C302.3 576 288 561.7 288 544L288 384C164.3 384 64 283.7 64 160z"
                  />
                </svg>
                Biodegradable
              </button>
              <button
                id="NonBioBTN"
                type="button"
                class="flex flex-row gap-2 items-center justify-center py-2 px-5 me-2 text-xs font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100"
              >
                <svg
                  class="w-4 h-4 fill-current"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 640 640"
                >
                  <path
                    d="M272 32L368 32C385.7 32 400 46.3 400 64C400 81.7 385.7 96 368 96L272 96C254.3 96 240 81.7 240 64C240 46.3 254.3 32 272 32zM176 208C176 172.7 204.7 144 240 144L400 144C435.3 144 464 172.7 464 208C464 232.1 450.7 253.1 431 264C450.7 274.9 464 295.9 464 320C464 344.1 450.7 365.1 431 376C450.7 386.9 464 407.9 464 432C464 456.1 450.7 477.1 431 488C450.7 498.9 464 519.9 464 544C464 579.3 435.3 608 400 608L240 608C204.7 608 176 579.3 176 544C176 519.9 189.3 498.9 209 488C189.3 477.1 176 456.1 176 432C176 407.9 189.3 386.9 209 376C189.3 365.1 176 344.1 176 320C176 295.9 189.3 274.9 209 264C189.3 253.1 176 232.1 176 208z"
                  />
                </svg>
                Non-Biodegradable
              </button>
              <button
                id="RecyBTN"
                type="button"
                class="flex flex-row gap-2 items-center justify-center py-2 px-5 me-2 text-xs font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100"
              >
                <svg
                  class="w-4 h-4 fill-current"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 640 640"
                >
                  <path
                    d="M129.9 292.5C143.2 199.5 223.3 128 320 128C373 128 421 149.5 455.8 184.2C456 184.4 456.2 184.6 456.4 184.8L464 192L416.1 192C398.4 192 384.1 206.3 384.1 224C384.1 241.7 398.4 256 416.1 256L544.1 256C561.8 256 576.1 241.7 576.1 224L576.1 96C576.1 78.3 561.8 64 544.1 64C526.4 64 512.1 78.3 512.1 96L512.1 149.4L500.8 138.7C454.5 92.6 390.5 64 320 64C191 64 84.3 159.4 66.6 283.5C64.1 301 76.2 317.2 93.7 319.7C111.2 322.2 127.4 310 129.9 292.6zM573.4 356.5C575.9 339 563.7 322.8 546.3 320.3C528.9 317.8 512.6 330 510.1 347.4C496.8 440.4 416.7 511.9 320 511.9C267 511.9 219 490.4 184.2 455.7C184 455.5 183.8 455.3 183.6 455.1L176 447.9L223.9 447.9C241.6 447.9 255.9 433.6 255.9 415.9C255.9 398.2 241.6 383.9 223.9 383.9L96 384C87.5 384 79.3 387.4 73.3 393.5C67.3 399.6 63.9 407.7 64 416.3L65 543.3C65.1 561 79.6 575.2 97.3 575C115 574.8 129.2 560.4 129 542.7L128.6 491.2L139.3 501.3C185.6 547.4 249.5 576 320 576C449 576 555.7 480.6 573.4 356.5z"
                  />
                </svg>
                Recyclable
              </button>
              <button
                id="UnknownBTN"
                type="button"
                class="flex flex-row gap-2 items-center justify-center py-2 px-5 me-2 text-xs font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100"
              >
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="w-4 h-4 fill-current">
                  <path d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zm0-336c-17.7 0-32 14.3-32 32 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-44.2 35.8-80 80-80s80 35.8 80 80c0 47.2-36 67.2-56 74.5l0 3.8c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-8.1c0-20.5 14.8-35.2 30.1-40.2 6.4-2.1 13.2-5.5 18.2-10.3 4.3-4.2 7.7-10 7.7-19.6 0-17.7-14.3-32-32-32zM224 368a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/></svg>
                Unknown
              </button>
            </div>
          </div>
        </div>

        <div
          class="flex flex-row gap-2 w-2xl h-fit items-center justify-center p-5 rounded-2xl bg-white shadow-2xl"
        >
          <div class="w-full h-full">
            <p class="text-xs font-medium border-b border-gray-200 pb-2">
              Realtime Sensor Reading
            </p>
            <div class="flex flex-row items-center mt-2 gap-10">
              <div class="sensor flex flex-col items-center">
                <span class="text-xs font-medium text-emerald-700 mb-2"
                  >Biodegradable</span>
                <div class="relative h-40 w-20 bg-gray-200 rounded-xl">
                  <div
                    class="binu1 absolute bottom-0 bg-emerald-600 rounded-xl w-20"
                    style="height: 0%"
                  ></div>
                </div>
                <span
                  class="binu1text text-sm font-medium text-emerald-700 mt-2"
                  >0%</span>
              </div>

              <div class="sensor flex flex-col items-center">
                <span class="text-xs font-medium text-red-700 mb-2"
                  >Non-Biodegradable</span>
                <div class="relative h-40 w-20 bg-gray-200 rounded-xl">
                  <div
                    class="binu2 absolute bottom-0 bg-red-600 rounded-xl w-20"
                    style="height: 0%"
                  ></div>
                </div>
                <span class="binu2text text-sm font-medium text-red-700 mt-2"
                  >0%</span>
              </div>

              <div class="sensor flex flex-col items-center">
                <span class="text-xs font-medium text-yellow-700 mb-2"
                  >Recyclable</span>
                <div class="relative h-40 w-20 bg-gray-200 rounded-xl">
                  <div
                    class="binu3 absolute bottom-0 bg-yellow-600 rounded-xl w-20"
                    style="height: 0%"
                  ></div>
                </div>
                <span class="binu3text ext-sm font-medium text-yellow-700 mt-2"
                  >0%</span>
              </div>
            </div>

            <div
              class="flex flex-col mt-5 w-full h-auto bg-gray-100 p-2 rounded-2xl"
            >
              <p class="text-xs font-medium p-2">Detection</p>
              <div
                class="flex flex-row gap-4 items-center justify-between mt-3"
              >
                <div class="w-sm bg-white rounded-xl p-3">
                  <p class="text-xl font-medium text-emerald-700">
                    <%= counts.biodegradable %>
                  </p>
                  <p
                    class="text-sm font-medium text-emerald-700 flex flex-row gap-2 mt-2"
                  >
                    <svg
                      class="w-4 h-4 fill-current"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 640 640"
                    >
                      <path
                        d="M576 96C576 204.1 499.4 294.3 397.6 315.4C389.7 257.3 363.6 205 325.1 164.5C365.2 104 433.9 64 512 64L544 64C561.7 64 576 78.3 576 96zM64 160C64 142.3 78.3 128 96 128L128 128C251.7 128 352 228.3 352 352L352 544C352 561.7 337.7 576 320 576C302.3 576 288 561.7 288 544L288 384C164.3 384 64 283.7 64 160z"
                      />
                    </svg>
                    Biodegradable
                  </p>
                </div>

                <div class="w-sm bg-white rounded-xl p-3">
                  <p class="text-xl font-medium text-red-700">
                    <%= counts.nonbiodegradable %>
                  </p>
                  <p
                    class="text-sm font-medium text-red-700 flex flex-row gap-2 mt-2"
                  >
                    <svg
                      class="w-4 h-4 fill-current"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 640 640"
                    >
                      <path
                        d="M272 32L368 32C385.7 32 400 46.3 400 64C400 81.7 385.7 96 368 96L272 96C254.3 96 240 81.7 240 64C240 46.3 254.3 32 272 32zM176 208C176 172.7 204.7 144 240 144L400 144C435.3 144 464 172.7 464 208C464 232.1 450.7 253.1 431 264C450.7 274.9 464 295.9 464 320C464 344.1 450.7 365.1 431 376C450.7 386.9 464 407.9 464 432C464 456.1 450.7 477.1 431 488C450.7 498.9 464 519.9 464 544C464 579.3 435.3 608 400 608L240 608C204.7 608 176 579.3 176 544C176 519.9 189.3 498.9 209 488C189.3 477.1 176 456.1 176 432C176 407.9 189.3 386.9 209 376C189.3 365.1 176 344.1 176 320C176 295.9 189.3 274.9 209 264C189.3 253.1 176 232.1 176 208z"
                      />
                    </svg>
                    Non-Biodegradable
                  </p>
                </div>

                <div class="w-sm bg-white rounded-xl p-3">
                  <p class="text-xl font-medium text-yellow-700">
                    <%= counts.recyclable %>
                  </p>
                  <p
                    class="text-sm font-medium text-yellow-700 flex flex-row gap-2 mt-2"
                  >
                    <svg
                      class="w-4 h-4 fill-current"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 640 640"
                    >
                      <path
                        d="M129.9 292.5C143.2 199.5 223.3 128 320 128C373 128 421 149.5 455.8 184.2C456 184.4 456.2 184.6 456.4 184.8L464 192L416.1 192C398.4 192 384.1 206.3 384.1 224C384.1 241.7 398.4 256 416.1 256L544.1 256C561.8 256 576.1 241.7 576.1 224L576.1 96C576.1 78.3 561.8 64 544.1 64C526.4 64 512.1 78.3 512.1 96L512.1 149.4L500.8 138.7C454.5 92.6 390.5 64 320 64C191 64 84.3 159.4 66.6 283.5C64.1 301 76.2 317.2 93.7 319.7C111.2 322.2 127.4 310 129.9 292.6zM573.4 356.5C575.9 339 563.7 322.8 546.3 320.3C528.9 317.8 512.6 330 510.1 347.4C496.8 440.4 416.7 511.9 320 511.9C267 511.9 219 490.4 184.2 455.7C184 455.5 183.8 455.3 183.6 455.1L176 447.9L223.9 447.9C241.6 447.9 255.9 433.6 255.9 415.9C255.9 398.2 241.6 383.9 223.9 383.9L96 384C87.5 384 79.3 387.4 73.3 393.5C67.3 399.6 63.9 407.7 64 416.3L65 543.3C65.1 561 79.6 575.2 97.3 575C115 574.8 129.2 560.4 129 542.7L128.6 491.2L139.3 501.3C185.6 547.4 249.5 576 320 576C449 576 555.7 480.6 573.4 356.5z"
                      />
                    </svg>
                    Recyclable
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="/flowbite/flowbite.min.js"></script>
    <script src="/flowbite/apexcharts.min.js"></script>
    <script src="/javascripts/index.js"></script>
  </body>
</html>
