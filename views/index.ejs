<!DOCTYPE html>
<html lang="en" class="w-screen h-screen">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
    <link href="/stylesheets/output.css" rel="stylesheet" />
    <link href="/flowbite/min.css" rel="stylesheet" />
    <script src="/javascripts/tf.min.js"></script>
    <script src="/javascripts/teachablemachine-image.min.js"></script>
  </head>
  <body class="flex flex-col w-full h-full overflow-x-hidden bg-gray-200">
    <div
      id="settingsformparent"
      class="hidden z-10 backdrop-brightness-80 backdrop-blur-sm fixed w-full h-full items-center justify-center p-10"
    >
      <form
        id="settingsform"
        class="w-[500px] bg-white rounded-3xl p-6 h-full overflow-y-auto"
      >
        <div class="flex flex-row items-center justify-between mb-4">
          <div class="flex flex-row gap-2 items-center justify-start">
            <svg
              class="shrink-0 w-6 h-6 text-black transition duration-75 group-hover:text-gray-900"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 640 640"
            >
              <path
                d="M259.1 73.5C262.1 58.7 275.2 48 290.4 48L350.2 48C365.4 48 378.5 58.7 381.5 73.5L396 143.5C410.1 149.5 423.3 157.2 435.3 166.3L503.1 143.8C517.5 139 533.3 145 540.9 158.2L570.8 210C578.4 223.2 575.7 239.8 564.3 249.9L511 297.3C511.9 304.7 512.3 312.3 512.3 320C512.3 327.7 511.8 335.3 511 342.7L564.4 390.2C575.8 400.3 578.4 417 570.9 430.1L541 481.9C533.4 495 517.6 501.1 503.2 496.3L435.4 473.8C423.3 482.9 410.1 490.5 396.1 496.6L381.7 566.5C378.6 581.4 365.5 592 350.4 592L290.6 592C275.4 592 262.3 581.3 259.3 566.5L244.9 496.6C230.8 490.6 217.7 482.9 205.6 473.8L137.5 496.3C123.1 501.1 107.3 495.1 99.7 481.9L69.8 430.1C62.2 416.9 64.9 400.3 76.3 390.2L129.7 342.7C128.8 335.3 128.4 327.7 128.4 320C128.4 312.3 128.9 304.7 129.7 297.3L76.3 249.8C64.9 239.7 62.3 223 69.8 209.9L99.7 158.1C107.3 144.9 123.1 138.9 137.5 143.7L205.3 166.2C217.4 157.1 230.6 149.5 244.6 143.4L259.1 73.5zM320.3 400C364.5 399.8 400.2 363.9 400 319.7C399.8 275.5 363.9 239.8 319.7 240C275.5 240.2 239.8 276.1 240 320.3C240.2 364.5 276.1 400.2 320.3 400z"
              />
            </svg>
            <p class="text-black font-semibold text-xl">System Settings</p>
          </div>

          <svg
            id="closesettingsform"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 384 512"
            class="w-10 h-10 mr-4 p-3 text-black hover:bg-gray-300 rounded-xl cursor-pointer"
            fill="currentColor"
          >
            <!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
            <path
              d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"
            />
          </svg>
        </div>

        <p class="text-sm font-semibold text-gray-700">Model Information</p>
        <div class="w-full my-2 flex flex-col">
          <div class="w-full mb-3">
            <label for="" class="block mb-2 text-xs font-medium text-gray-900"
              >Active Model</label
            >
            <input
              readonly
              value="<%= data.active_model %>"
              name=""
              type="text"
              id="modelurl"
              class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
              placeholder="123"
              required
            />
          </div>
          <div class="w-full">
            <label
              id=""
              for=""
              class="block mb-2 text-xs font-medium text-gray-900"
              >Prediction %</label
            >
            <input
              type="number"
              id="prediction"
              class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
              placeholder="0"
              min="0"
              max="1"
              step="0.01"
              required
              value="<%= data.predict_percent %>"
            />
          </div>

          <div class="mt-4">
            <p class="text-xs font-medium p-2">Deny Class</p>
            <div class="flex flex-row gap-2 p-2 flex-wrap">
              <% data.labels.forEach((label, index) => { %>
              <div class="denyclass flex items-center">
                <input
                  id="checkbox-<%= index %>"
                  type="checkbox"
                  value="<%= label %>"
                  class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2"
                />

                <label
                  for="denycheckbox-<%= index %>"
                  class="ms-2 text-xs font-normal text-gray-900"
                >
                  <%= label %>
                </label>
              </div>
              <% }) %>
            </div>
          </div>
        </div>

        <p class="text-sm font-semibold text-gray-700 mt-7">Fetch Request</p>
        <div class="w-full flex flex-col mt-2">
          <label for="" class="block mb-2 text-xs font-medium text-gray-900"
            >Sensor Readings (rps)</label
          >
          <input
            type="number"
            id="fetchrps"
            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
            placeholder="0"
            min="1000"
            max="10000"
            step="1"
            required
            value="<%= data.fetch_sensor_rps %>"
          />
        </div>

        <p class="text-sm font-semibold text-gray-700 mt-7">Device Settings</p>
        <label class="inline-flex items-center cursor-pointer mt-3">
          <input <%="data.bin_reload" % /> type="checkbox" value=""
          class="sr-only peer">
          <div
            class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"
          ></div>
          <span class="ms-3 text-xs font-medium text-gray-900"
            >Toggle Bin on Reload</span
          >
        </label>

        <div class="flex flex-row w-full mt-4">
          <button
            type="submit"
            class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-3 text-center inline-flex items-center justify-center"
          >
            Save Changes
            <svg
              class="rtl:rotate-180 w-3.5 h-3.5 ms-2"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 14 10"
            >
              <path
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M1 5h12m0 0L9 1m4 4L9 9"
              />
            </svg>
          </button>
        </div>
      </form>
    </div>

    <script src="/flowbite/flowbite.min.js"></script>
    <script src="/flowbite/apexcharts.min.js"></script>
    <script src="/javascripts/index.js"></script>
  </body>
</html>
